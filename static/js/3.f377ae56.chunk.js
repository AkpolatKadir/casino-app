(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{162:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(15),c=a(18),i=a(16),s=a(19),l=a(0),o=a.n(l),m=a(17),u=a(23),d=a(21),g=a.n(d),p=a(3),v=function(){return{type:p.e}},f=function(e){return{type:p.f,payload:e}},h=function(e){return{type:p.d,payload:e}},E=function(){return{type:p.b}},y=function(e){return{type:p.c,payload:e}},N=function(e){return{type:p.a,payload:e}},b=a(39),F=a.n(b),S=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={selected:0},a.componentDidMount=function(){a.props.getCategories()},a.onSelect=function(e){a.state.selected!==e&&(a.setState({selected:e}),a.props.onSelect(e))},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.state.selected,a=this.props.categories;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"ui dividing header"},"Categories"),o.a.createElement("div",{className:"ui selection animated list category items"},a.map(function(a){return o.a.createElement("div",{className:F()("category item",{active:t===a.id}),key:a.id},o.a.createElement("a",{href:"#/",onClick:function(t){t.preventDefault(),e.onSelect(a.id)}},o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"header"},a.name))))})))}}]),t}(l.Component),w=Object(m.b)(function(e){return{categories:e.categories.data,error:e.categories.error}},{getCategories:function(){return function(e){e(E()),g.a.get("/categories").then(function(t){e(y(t.data))}).catch(function(t){e(N(t.response&&t.response.data))})}}})(S),C=a(22);var O=function(e){var t=e.game;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"ui small image"},o.a.createElement("img",{src:t.icon,alt:"game-icon"})),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"header"},o.a.createElement("b",{className:"name"},t.name)),o.a.createElement("div",{className:"description"},t.description),o.a.createElement("div",{className:"extra"},o.a.createElement(C.b,{to:"/games/play/".concat(t.code)},o.a.createElement("div",{className:"play ui right floated secondary button inverted"},"Play",o.a.createElement("i",{className:"right chevron icon"}))))))};var k=function(e){var t=e.games;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"ui dividing header"},"Games"),o.a.createElement("div",{className:"ui relaxed divided game items links"},t.map(function(e,t){return o.a.createElement("div",{className:"game item",key:t},o.a.createElement(O,{game:e}))})))},j=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={games:[],searchFilter:"",categoryFilter:0},a.componentDidMount=function(){a.props.getGames()},a.onLogoutClick=function(e){e.preventDefault();var t=a.props.auth;a.props.logoutUser(t.user.username)},a.onSearch=function(e){a.setState({searchFilter:e.target.value},function(){a.setState({games:a.getFilteredGames()})})},a.onCategorySelect=function(e){a.state.categoryFilter!==e&&a.setState({categoryFilter:e},function(){a.setState({games:a.getFilteredGames()})})},a.getFilteredGames=function(){var e=a.state,t=e.categoryFilter,n=e.searchFilter,r=a.props.games;return t&&(r=r.filter(function(e){return e.categoryIds.includes(t)})),n&&(r=r.filter(function(e){var t=e.name.toString().trim().toLocaleUpperCase("en-EN");return!(!t||-1===t.indexOf(n.trim().toLocaleUpperCase("en-EN")))})),r},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state.games,t=this.props.auth.user.player;return o.a.createElement("div",{className:"casino"},o.a.createElement("div",{className:"ui stackable grid centered"},o.a.createElement("div",{className:"twelve wide column"},o.a.createElement("div",{className:"ui list"},o.a.createElement("div",{className:"player item"},o.a.createElement("img",{className:"ui avatar image",src:t.avatar,alt:"avatar"}),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"header"},o.a.createElement("b",{className:"name"},t&&t.name)),o.a.createElement("div",{className:"description event"},t&&t.event)))),o.a.createElement("a",{href:"#/",onClick:this.onLogoutClick},o.a.createElement("div",{className:"logout ui left floated secondary button"},o.a.createElement("i",{className:"left chevron icon"}),"Log Out"))),o.a.createElement("div",{className:"four wide column"},o.a.createElement("div",{className:"search ui small icon input "},o.a.createElement("input",{type:"text",placeholder:"Search Game",onChange:this.onSearch}),o.a.createElement("i",{className:"search icon"})))),o.a.createElement("div",{className:"ui grid"},o.a.createElement("div",{className:"twelve wide column"},o.a.createElement(k,{games:e})),o.a.createElement("div",{className:"four wide column"},o.a.createElement(w,{onSelect:this.onCategorySelect}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.searchFilter||t.categoryFilter?null:{games:e.games}}}]),t}(l.Component);t.default=Object(m.b)(function(e){return{auth:e.auth,games:e.games.data,error:e.auth.error}},{getGames:function(){return function(e){e(v()),g.a.get("/games").then(function(t){e(f(t.data))}).catch(function(t){e(h(t.response&&t.response.data))})}},logoutUser:u.c})(j)}}]);
//# sourceMappingURL=3.f377ae56.chunk.js.map