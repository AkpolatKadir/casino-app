{"version":3,"sources":["actions/gameActions.js","actions/categoryActions.js","components/Games/Category.js","components/Games/GameItem.js","components/Games/Games.js","pages/Casino.js"],"names":["fetchGamesRequest","type","FETCH_GAMES_REQUEST","fetchGamesSuccess","games","FETCH_GAMES_SUCCESS","payload","fetchGamesFailure","error","FETCH_GAMES_FAILURE","fetchCategoriesRequest","FETCH_CATEGORIES_REQUEST","fetchCategoriesSuccess","categories","FETCH_CATEGORIES_SUCCESS","fetchCategoriesFailure","FETCH_CATEGORIES_FAILURE","Category","state","selected","componentDidMount","_this","props","getCategories","onSelect","categoryId","setState","_this2","this","react_default","a","createElement","Fragment","className","map","category","classnames","active","id","key","href","onClick","e","preventDefault","name","Component","connect","data","dispatch","axios","get","then","res","catch","err","response","GameItem","_ref","game","src","icon","alt","description","react_router_dom","to","concat","code","Games","index","Games_GameItem","Casino","searchFilter","categoryFilter","getGames","onLogoutClick","auth","logoutUser","user","username","onSearch","target","value","getFilteredGames","onCategorySelect","selectedCategoryId","_this$state","filteredGames","filter","categoryIds","includes","toString","trim","toLocaleUpperCase","indexOf","player","avatar","event","placeholder","onChange","Games_Games","Games_Category"],"mappings":"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","file":"static/js/3.f377ae56.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nimport {\r\n  FETCH_GAMES_REQUEST,\r\n  FETCH_GAMES_FAILURE,\r\n  FETCH_GAMES_SUCCESS\r\n} from \"./types\";\r\n\r\nexport const getGames = () => dispatch => {\r\n  dispatch(fetchGamesRequest());\r\n  axios\r\n    .get(\"/games\")\r\n    .then(res => {\r\n      dispatch(fetchGamesSuccess(res.data));\r\n    })\r\n    .catch(err => {\r\n      dispatch(fetchGamesFailure(err.response && err.response.data));\r\n    });\r\n};\r\n\r\nexport const fetchGamesRequest = () => {\r\n  return {\r\n    type: FETCH_GAMES_REQUEST\r\n  };\r\n};\r\nexport const fetchGamesSuccess = games => {\r\n  return {\r\n    type: FETCH_GAMES_SUCCESS,\r\n    payload: games\r\n  };\r\n};\r\nexport const fetchGamesFailure = error => {\r\n  return {\r\n    type: FETCH_GAMES_FAILURE,\r\n    payload: error\r\n  };\r\n};\r\n","import axios from \"axios\";\r\n\r\nimport {\r\n  FETCH_CATEGORIES_REQUEST,\r\n  FETCH_CATEGORIES_SUCCESS,\r\n  FETCH_CATEGORIES_FAILURE\r\n} from \"./types\";\r\n\r\nexport const getCategories = () => dispatch => {\r\n  dispatch(fetchCategoriesRequest());\r\n  axios\r\n    .get(\"/categories\")\r\n    .then(res => {\r\n      dispatch(fetchCategoriesSuccess(res.data));\r\n    })\r\n    .catch(err => {\r\n      dispatch(fetchCategoriesFailure(err.response && err.response.data));\r\n    });\r\n};\r\n\r\nexport const fetchCategoriesRequest = () => {\r\n  return {\r\n    type: FETCH_CATEGORIES_REQUEST\r\n  };\r\n};\r\nexport const fetchCategoriesSuccess = categories => {\r\n  return {\r\n    type: FETCH_CATEGORIES_SUCCESS,\r\n    payload: categories\r\n  };\r\n};\r\nexport const fetchCategoriesFailure = error => {\r\n  return {\r\n    type: FETCH_CATEGORIES_FAILURE,\r\n    payload: error\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { getCategories } from \"../../actions/categoryActions\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport classnames from \"classnames\";\r\n\r\nclass Category extends Component {\r\n  static propTypes = {\r\n    getCategories: PropTypes.func.isRequired,\r\n    categories: PropTypes.array.isRequired,\r\n    error: PropTypes.oneOfType([PropTypes.object, PropTypes.string])\r\n  };\r\n\r\n  state = {\r\n    selected: 0\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.props.getCategories();\r\n  };\r\n\r\n  onSelect = categoryId => {\r\n    const { selected } = this.state;\r\n\r\n    if (selected !== categoryId) {\r\n      this.setState({ selected: categoryId });\r\n      this.props.onSelect(categoryId);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { selected } = this.state;\r\n    const { categories } = this.props;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <h3 className=\"ui dividing header\">Categories</h3>\r\n        <div className=\"ui selection animated list category items\">\r\n          {categories.map(category => (\r\n            <div\r\n              className={classnames(\"category item\", {\r\n                active: selected === category.id\r\n              })}\r\n              key={category.id}\r\n            >\r\n              <a\r\n                href=\"#/\"\r\n                onClick={e => {\r\n                  e.preventDefault();\r\n                  this.onSelect(category.id);\r\n                }}\r\n              >\r\n                <div className=\"content\">\r\n                  <div className=\"header\">{category.name}</div>\r\n                </div>\r\n              </a>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  categories: state.categories.data,\r\n  error: state.categories.error\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { getCategories }\r\n)(Category);\r\n","import React from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction GameItem({ game }) {\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"ui small image\">\r\n        <img src={game.icon} alt=\"game-icon\" />\r\n      </div>\r\n      <div className=\"content\">\r\n        <div className=\"header\">\r\n          <b className=\"name\">{game.name}</b>\r\n        </div>\r\n        <div className=\"description\">{game.description}</div>\r\n        <div className=\"extra\">\r\n          <Link to={`/games/play/${game.code}`}>\r\n            <div className=\"play ui right floated secondary button inverted\">\r\n              Play\r\n              <i className=\"right chevron icon\" />\r\n            </div>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default GameItem;\r\n","import React from \"react\";\r\n\r\nimport GameItem from \"./GameItem\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Games({ games }) {\r\n  return (\r\n    <React.Fragment>\r\n      <h3 className=\"ui dividing header\">Games</h3>\r\n\r\n      <div className=\"ui relaxed divided game items links\">\r\n        {games.map((game, index) => (\r\n          <div className=\"game item\" key={index}>\r\n            <GameItem game={game} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nGames.propTypes = {\r\n  games: PropTypes.array.isRequired\r\n};\r\n\r\nexport default Games;\r\n","import React, { Component } from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { logoutUser } from \"../actions/authActions\";\r\nimport { getGames } from \"../actions/gameActions\";\r\n\r\nimport { Category, Games } from \"../components/Games\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Casino extends Component {\r\n  static propTypes = {\r\n    getGames: PropTypes.func.isRequired,\r\n    games: PropTypes.array.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    error: PropTypes.oneOfType([PropTypes.object, PropTypes.string])\r\n  };\r\n\r\n  state = {\r\n    games: [],\r\n    searchFilter: \"\",\r\n    categoryFilter: 0\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.props.getGames();\r\n  };\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (!state.searchFilter && !state.categoryFilter)\r\n      return {\r\n        games: props.games\r\n      };\r\n    else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  onLogoutClick = e => {\r\n    e.preventDefault();\r\n\r\n    const { auth } = this.props;\r\n    this.props.logoutUser(auth.user.username);\r\n  };\r\n\r\n  onSearch = e => {\r\n    this.setState(\r\n      {\r\n        searchFilter: e.target.value\r\n      },\r\n      () => {\r\n        this.setState({\r\n          games: this.getFilteredGames()\r\n        });\r\n      }\r\n    );\r\n  };\r\n\r\n  onCategorySelect = selectedCategoryId => {\r\n    const { categoryFilter } = this.state;\r\n\r\n    if (categoryFilter !== selectedCategoryId)\r\n      this.setState(\r\n        {\r\n          categoryFilter: selectedCategoryId\r\n        },\r\n        () => {\r\n          this.setState({\r\n            games: this.getFilteredGames()\r\n          });\r\n        }\r\n      );\r\n  };\r\n\r\n  getFilteredGames = () => {\r\n    const { categoryFilter, searchFilter } = this.state;\r\n\r\n    let filteredGames = this.props.games;\r\n\r\n    if (categoryFilter) {\r\n      filteredGames = filteredGames.filter(game =>\r\n        game.categoryIds.includes(categoryFilter)\r\n      );\r\n    }\r\n\r\n    if (searchFilter)\r\n      filteredGames = filteredGames.filter(game => {\r\n        const value = game.name\r\n          .toString()\r\n          .trim()\r\n          .toLocaleUpperCase(\"en-EN\");\r\n\r\n        if (\r\n          value &&\r\n          value.indexOf(searchFilter.trim().toLocaleUpperCase(\"en-EN\")) !== -1\r\n        ) {\r\n          return true;\r\n        }\r\n\r\n        return false;\r\n      });\r\n\r\n    return filteredGames;\r\n  };\r\n\r\n  render() {\r\n    const { games } = this.state;\r\n\r\n    const { auth } = this.props;\r\n    const { player } = auth.user;\r\n\r\n    return (\r\n      <div className=\"casino\">\r\n        <div className=\"ui stackable grid centered\">\r\n          <div className=\"twelve wide column\">\r\n            <div className=\"ui list\">\r\n              {/* <!-- player item template --> */}\r\n              <div className=\"player item\">\r\n                <img\r\n                  className=\"ui avatar image\"\r\n                  src={player.avatar}\r\n                  alt=\"avatar\"\r\n                />\r\n\r\n                <div className=\"content\">\r\n                  <div className=\"header\">\r\n                    <b className=\"name\">{player && player.name}</b>\r\n                  </div>\r\n                  <div className=\"description event\">\r\n                    {player && player.event}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {/* <!-- end player item template --> */}\r\n            </div>\r\n            <a href=\"#/\" onClick={this.onLogoutClick}>\r\n              <div className=\"logout ui left floated secondary button\">\r\n                <i className=\"left chevron icon\" />\r\n                Log Out\r\n              </div>\r\n            </a>\r\n          </div>\r\n          <div className=\"four wide column\">\r\n            <div className=\"search ui small icon input \">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search Game\"\r\n                onChange={this.onSearch}\r\n              />\r\n              <i className=\"search icon\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"ui grid\">\r\n          <div className=\"twelve wide column\">\r\n            <Games games={games} />\r\n          </div>\r\n          <div className=\"four wide column\">\r\n            <Category onSelect={this.onCategorySelect} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  games: state.games.data,\r\n  error: state.auth.error\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { getGames, logoutUser }\r\n)(Casino);\r\n"],"sourceRoot":""}