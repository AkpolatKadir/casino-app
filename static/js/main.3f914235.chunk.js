(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(58),c=a.n(o),i=(a(69),a(14)),s=a(15),u=a(18),l=a(16),d=a(19),m=a(22),p=a(13),h=a(59),E=a.n(h)()(),f=a(17),v=a(11),g=a(61),b=a(7),O=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length||Array.isArray(e)&&0===e.length},y=a(3),w={user:{},isAuthenticated:!1,error:null},j={data:[],error:null,isLoading:!1},S={data:[],error:null,isLoading:!1},N=Object(v.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.h:return{isAuthenticated:!O(t.payload),user:t.payload,error:null};case y.g:return Object(b.a)({},e,{error:t.payload.error});case y.i:return Object(b.a)({},w);default:return e}},games:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.e:return Object(b.a)({},e,{isLoading:!0,error:null});case y.f:return{data:t.payload,isLoading:!1,error:null};case y.d:return{data:[],isLoading:!1,error:t.payload};default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.b:return Object(b.a)({},e,{isLoading:!0,error:null});case y.c:return{data:t.payload,isLoading:!1,error:null};case y.a:return{data:[],isLoading:!1,error:t.payload};default:return e}}}),C=[g.a],L=void 0;L=Object(v.d)(v.a.apply(void 0,C));var A=Object(v.e)(N,{},L),_=a(62),U=Object(f.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(_.a)(e,["component","auth"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/login"})}}))});var I=function(e){var t=e.src;return r.a.createElement("div",{className:"ui one column center aligned page grid"},r.a.createElement("div",{className:"column twelve wide"},r.a.createElement("img",{src:t,alt:"logo"})))},R=a(21),T=a.n(R),k=a(23),F=a(30),G=a(39),H=a.n(G),x=a(42),J=a.n(x),M=function(e){var t={};return e.username=O(e.username)?"":e.username,e.password=O(e.password)?"":e.password,J.a.isEmpty(e.username)&&(t.username="username"),J.a.isEmpty(e.password)&&(t.password="password"),{errors:t,isValid:O(t)}},B=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={credentials:{username:"",password:""},validationErrors:{}},a.onChange=function(e){a.setState({credentials:Object(b.a)({},a.state.credentials,Object(F.a)({},e.target.name,e.target.value.trim()))})},a.onSubmit=function(e){e.preventDefault();var t=a.state.credentials,n=M(t);n.isValid?a.setState({validationErrors:{}},function(){a.props.loginUser(t)}):a.setState({validationErrors:Object(b.a)({},n.errors)},function(){a.props.resetErrors()})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.credentials,a=e.validationErrors,n=t.username,o=t.password,c=this.props.error;return r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"ui grid centered"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"fields"},r.a.createElement("div",{className:"required field"},r.a.createElement("div",{className:H()("ui icon input",{error:a.username})},r.a.createElement("input",{type:"text",name:"username",value:n,placeholder:"Username",onChange:this.onChange}),r.a.createElement("i",{className:"user icon"}))),r.a.createElement("div",{className:"required field"},r.a.createElement("div",{className:H()("ui icon input",{error:a.password})},r.a.createElement("input",{type:"password",name:"password",value:o,placeholder:"Password",onChange:this.onChange}),r.a.createElement("i",{className:"lock icon"}))),c&&r.a.createElement("label",{className:"error"},"Username or password is incorrect."),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui icon input"},r.a.createElement("input",{type:"submit",value:"Login"}),r.a.createElement("i",{className:"right chevron icon"})))))))}}]),t}(n.Component);B.getDerivedStateFromProps=function(e,t){return e.auth.isAuthenticated&&e.history.push("/casino"),t};var D=Object(f.b)(function(e){return{auth:e.auth,error:e.auth.error}},{loginUser:k.b,resetErrors:k.d})(B),q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){window.comeon.game.launch(a.props.match.params.gameId)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ui grid centered"},r.a.createElement("div",{className:"three wide column"},r.a.createElement(m.b,{to:"/casino"},r.a.createElement("div",{className:"ui right floated secondary button inverted"},r.a.createElement("i",{className:"two left chevron icon"}),"Back"))),r.a.createElement("div",{className:"twelve wide column"},r.a.createElement("div",{className:"iframe-container"},r.a.createElement("div",{id:"game-launch"}))),r.a.createElement("div",{className:"three wide column"})))}}]),t}(n.Component),P=Object(n.lazy)(function(){return a.e(3).then(a.bind(null,162))});if(localStorage.auth){var Q=localStorage.auth;A.dispatch(Object(k.a)(JSON.parse(Q)))}T.a.defaults.baseURL="https://comeon-casino-app.herokuapp.com";var V=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{store:A},r.a.createElement(m.a,{history:E},r.a.createElement(I,{src:"./images/logo.svg"}),r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement("div",{className:"main container"},r.a.createElement(p.d,null,r.a.createElement(p.a,{exact:!0,from:"/",to:"/login"}),r.a.createElement(p.b,{exact:!0,path:"/login",component:D}),r.a.createElement(U,{exact:!0,path:"/casino",component:P}),r.a.createElement(U,{path:"/games/play/:gameId",component:q}))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},23:function(e,t,a){"use strict";var n=a(7),r=a(21),o=a.n(r),c=a(3);a.d(t,"b",function(){return i}),a.d(t,"c",function(){return s}),a.d(t,"a",function(){return u}),a.d(t,"d",function(){return m});var i=function(e){return function(t){o.a.post("/login",e).then(function(a){var r=Object(n.a)({},a.data,{username:e.username});t(u(r))}).catch(function(e){t(l(e.response&&e.response.data))})}},s=function(e){return function(t){o.a.post("/logout",{username:e}),localStorage.removeItem("auth"),t(d())}},u=function(e){return function(e){localStorage.setItem("auth",JSON.stringify(e))}(e),{type:c.h,payload:e}},l=function(e){return{type:c.g,payload:e}},d=function(){return{type:c.i}},m=function(){return function(e){e({type:c.j})}}},3:function(e,t,a){"use strict";a.d(t,"h",function(){return n}),a.d(t,"g",function(){return r}),a.d(t,"i",function(){return o}),a.d(t,"j",function(){return c}),a.d(t,"e",function(){return i}),a.d(t,"f",function(){return s}),a.d(t,"d",function(){return u}),a.d(t,"b",function(){return l}),a.d(t,"c",function(){return d}),a.d(t,"a",function(){return m});var n="LOGIN_SUCCESS",r="LOGIN_FAILURE",o="LOGOUT_SUCCESS",c="RESET_LOGIN_ERROR",i="FETCH_GAMES_REQUEST",s="FETCH_GAMES_SUCCESS",u="FETCH_GAMES_FAILURE",l="FETCH_CATEGORIES_REQUEST",d="FETCH_CATEGORIES_SUCCESS",m="FETCH_CATEGORIES_FAILURE"},64:function(e,t,a){e.exports=a(161)},69:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.3f914235.chunk.js.map